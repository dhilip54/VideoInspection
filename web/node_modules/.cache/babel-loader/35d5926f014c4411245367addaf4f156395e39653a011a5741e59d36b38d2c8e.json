{"ast":null,"code":"var _jsxFileName = \"D:\\\\256\\\\web\\\\src\\\\Room.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport io from 'socket.io-client';\nimport { v4 as uuidv4 } from 'uuid';\nimport html2canvas from 'html2canvas';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SIGNAL_SERVER = 'http://localhost:5000';\nfunction Room({\n  roomId\n}) {\n  _s();\n  const [participants, setParticipants] = useState([]);\n  const [micOn, setMicOn] = useState(true);\n  const [camOn, setCamOn] = useState(true);\n  const [screenSharing, setScreenSharing] = useState(false);\n  const [error, setError] = useState('');\n  const localVideoRef = useRef();\n  const remoteVideoRef = useRef();\n  const socketRef = useRef();\n  const peerRef = useRef();\n  const userId = useRef(uuidv4());\n  const localStream = useRef();\n  const screenStream = useRef();\n  useEffect(() => {\n    socketRef.current = io(SIGNAL_SERVER);\n    socketRef.current.emit('join', {\n      roomId,\n      userId: userId.current\n    });\n    socketRef.current.on('participants', setParticipants);\n    socketRef.current.on('signal', handleSignal);\n    socketRef.current.on('error', setError);\n    return () => {\n      socketRef.current.emit('leave', {\n        roomId,\n        userId: userId.current\n      });\n      socketRef.current.disconnect();\n      if (peerRef.current) peerRef.current.close();\n    };\n    // eslint-disable-next-line\n  }, []);\n  useEffect(() => {\n    startLocalStream();\n    // eslint-disable-next-line\n  }, []);\n  const startLocalStream = async () => {\n    try {\n      localStream.current = await navigator.mediaDevices.getUserMedia({\n        video: true,\n        audio: true\n      });\n      if (localVideoRef.current) {\n        localVideoRef.current.srcObject = localStream.current;\n      }\n      createPeer();\n    } catch (e) {\n      setError('Could not access camera/mic');\n    }\n  };\n  const createPeer = () => {\n    const peer = new window.RTCPeerConnection();\n    localStream.current.getTracks().forEach(track => peer.addTrack(track, localStream.current));\n    peer.ontrack = e => {\n      if (remoteVideoRef.current) {\n        remoteVideoRef.current.srcObject = e.streams[0];\n      }\n    };\n    peer.onicecandidate = e => {\n      if (e.candidate) {\n        socketRef.current.emit('signal', {\n          roomId,\n          userId: userId.current,\n          signal: {\n            candidate: e.candidate\n          }\n        });\n      }\n    };\n    peerRef.current = peer;\n  };\n  const handleSignal = async ({\n    userId: from,\n    signal\n  }) => {\n    if (signal.sdp) {\n      await peerRef.current.setRemoteDescription(new RTCSessionDescription(signal.sdp));\n      if (signal.sdp.type === 'offer') {\n        const answer = await peerRef.current.createAnswer();\n        await peerRef.current.setLocalDescription(answer);\n        socketRef.current.emit('signal', {\n          roomId,\n          userId: userId.current,\n          signal: {\n            sdp: answer\n          }\n        });\n      }\n    } else if (signal.candidate) {\n      await peerRef.current.addIceCandidate(new RTCIceCandidate(signal.candidate));\n    }\n  };\n  const startCall = async () => {\n    const offer = await peerRef.current.createOffer();\n    await peerRef.current.setLocalDescription(offer);\n    socketRef.current.emit('signal', {\n      roomId,\n      userId: userId.current,\n      signal: {\n        sdp: offer\n      }\n    });\n  };\n  const toggleMic = () => {\n    localStream.current.getAudioTracks().forEach(track => track.enabled = !micOn);\n    setMicOn(!micOn);\n  };\n  const toggleCam = () => {\n    localStream.current.getVideoTracks().forEach(track => track.enabled = !camOn);\n    setCamOn(!camOn);\n  };\n  const leaveRoom = () => {\n    socketRef.current.emit('leave', {\n      roomId,\n      userId: userId.current\n    });\n    window.location.reload();\n  };\n  const startScreenShare = async () => {\n    try {\n      screenStream.current = await navigator.mediaDevices.getDisplayMedia({\n        video: true\n      });\n      const screenTrack = screenStream.current.getVideoTracks()[0];\n      const sender = peerRef.current.getSenders().find(s => s.track.kind === 'video');\n      sender.replaceTrack(screenTrack);\n      setScreenSharing(true);\n      screenTrack.onended = () => {\n        sender.replaceTrack(localStream.current.getVideoTracks()[0]);\n        setScreenSharing(false);\n      };\n    } catch (e) {\n      setError('Screen sharing failed');\n    }\n  };\n  const takeScreenshot = async () => {\n    if (!localVideoRef.current) return;\n    const canvas = await html2canvas(localVideoRef.current);\n    const link = document.createElement('a');\n    link.href = canvas.toDataURL('image/png');\n    link.download = 'screenshot.png';\n    link.click();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"room-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [\"Room: \", roomId]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"video\", {\n        ref: localVideoRef,\n        autoPlay: true,\n        muted: true,\n        playsInline: true,\n        width: 200\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"video\", {\n        ref: remoteVideoRef,\n        autoPlay: true,\n        playsInline: true,\n        width: 200\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: toggleMic,\n        children: micOn ? 'Mute Mic' : 'Unmute Mic'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: toggleCam,\n        children: camOn ? 'Turn Off Cam' : 'Turn On Cam'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: startCall,\n        children: \"Start Call\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: leaveRoom,\n        children: \"Leave Room\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: startScreenShare,\n        disabled: screenSharing,\n        children: \"Share Screen\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: takeScreenshot,\n        children: \"Screenshot\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Participants:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }, this), \" \", participants.join(', ')]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 129,\n    columnNumber: 5\n  }, this);\n}\n_s(Room, \"AmyUApsgy3IZYJuBiSd7K3CGX0g=\");\n_c = Room;\nexport default Room;\nvar _c;\n$RefreshReg$(_c, \"Room\");","map":{"version":3,"names":["React","useEffect","useRef","useState","io","v4","uuidv4","html2canvas","jsxDEV","_jsxDEV","SIGNAL_SERVER","Room","roomId","_s","participants","setParticipants","micOn","setMicOn","camOn","setCamOn","screenSharing","setScreenSharing","error","setError","localVideoRef","remoteVideoRef","socketRef","peerRef","userId","localStream","screenStream","current","emit","on","handleSignal","disconnect","close","startLocalStream","navigator","mediaDevices","getUserMedia","video","audio","srcObject","createPeer","e","peer","window","RTCPeerConnection","getTracks","forEach","track","addTrack","ontrack","streams","onicecandidate","candidate","signal","from","sdp","setRemoteDescription","RTCSessionDescription","type","answer","createAnswer","setLocalDescription","addIceCandidate","RTCIceCandidate","startCall","offer","createOffer","toggleMic","getAudioTracks","enabled","toggleCam","getVideoTracks","leaveRoom","location","reload","startScreenShare","getDisplayMedia","screenTrack","sender","getSenders","find","s","kind","replaceTrack","onended","takeScreenshot","canvas","link","document","createElement","href","toDataURL","download","click","className","children","fileName","_jsxFileName","lineNumber","columnNumber","ref","autoPlay","muted","playsInline","width","onClick","disabled","join","_c","$RefreshReg$"],"sources":["D:/256/web/src/Room.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport io from 'socket.io-client';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport html2canvas from 'html2canvas';\r\n\r\nconst SIGNAL_SERVER = 'http://localhost:5000';\r\n\r\nfunction Room({ roomId }) {\r\n  const [participants, setParticipants] = useState([]);\r\n  const [micOn, setMicOn] = useState(true);\r\n  const [camOn, setCamOn] = useState(true);\r\n  const [screenSharing, setScreenSharing] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const localVideoRef = useRef();\r\n  const remoteVideoRef = useRef();\r\n  const socketRef = useRef();\r\n  const peerRef = useRef();\r\n  const userId = useRef(uuidv4());\r\n  const localStream = useRef();\r\n  const screenStream = useRef();\r\n\r\n  useEffect(() => {\r\n    socketRef.current = io(SIGNAL_SERVER);\r\n    socketRef.current.emit('join', { roomId, userId: userId.current });\r\n    socketRef.current.on('participants', setParticipants);\r\n    socketRef.current.on('signal', handleSignal);\r\n    socketRef.current.on('error', setError);\r\n    return () => {\r\n      socketRef.current.emit('leave', { roomId, userId: userId.current });\r\n      socketRef.current.disconnect();\r\n      if (peerRef.current) peerRef.current.close();\r\n    };\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    startLocalStream();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  const startLocalStream = async () => {\r\n    try {\r\n      localStream.current = await navigator.mediaDevices.getUserMedia({ video: true, audio: true });\r\n      if (localVideoRef.current) {\r\n        localVideoRef.current.srcObject = localStream.current;\r\n      }\r\n      createPeer();\r\n    } catch (e) {\r\n      setError('Could not access camera/mic');\r\n    }\r\n  };\r\n\r\n  const createPeer = () => {\r\n    const peer = new window.RTCPeerConnection();\r\n    localStream.current.getTracks().forEach(track => peer.addTrack(track, localStream.current));\r\n    peer.ontrack = (e) => {\r\n      if (remoteVideoRef.current) {\r\n        remoteVideoRef.current.srcObject = e.streams[0];\r\n      }\r\n    };\r\n    peer.onicecandidate = (e) => {\r\n      if (e.candidate) {\r\n        socketRef.current.emit('signal', { roomId, userId: userId.current, signal: { candidate: e.candidate } });\r\n      }\r\n    };\r\n    peerRef.current = peer;\r\n  };\r\n\r\n  const handleSignal = async ({ userId: from, signal }) => {\r\n    if (signal.sdp) {\r\n      await peerRef.current.setRemoteDescription(new RTCSessionDescription(signal.sdp));\r\n      if (signal.sdp.type === 'offer') {\r\n        const answer = await peerRef.current.createAnswer();\r\n        await peerRef.current.setLocalDescription(answer);\r\n        socketRef.current.emit('signal', { roomId, userId: userId.current, signal: { sdp: answer } });\r\n      }\r\n    } else if (signal.candidate) {\r\n      await peerRef.current.addIceCandidate(new RTCIceCandidate(signal.candidate));\r\n    }\r\n  };\r\n\r\n  const startCall = async () => {\r\n    const offer = await peerRef.current.createOffer();\r\n    await peerRef.current.setLocalDescription(offer);\r\n    socketRef.current.emit('signal', { roomId, userId: userId.current, signal: { sdp: offer } });\r\n  };\r\n\r\n  const toggleMic = () => {\r\n    localStream.current.getAudioTracks().forEach(track => (track.enabled = !micOn));\r\n    setMicOn(!micOn);\r\n  };\r\n\r\n  const toggleCam = () => {\r\n    localStream.current.getVideoTracks().forEach(track => (track.enabled = !camOn));\r\n    setCamOn(!camOn);\r\n  };\r\n\r\n  const leaveRoom = () => {\r\n    socketRef.current.emit('leave', { roomId, userId: userId.current });\r\n    window.location.reload();\r\n  };\r\n\r\n  const startScreenShare = async () => {\r\n    try {\r\n      screenStream.current = await navigator.mediaDevices.getDisplayMedia({ video: true });\r\n      const screenTrack = screenStream.current.getVideoTracks()[0];\r\n      const sender = peerRef.current.getSenders().find(s => s.track.kind === 'video');\r\n      sender.replaceTrack(screenTrack);\r\n      setScreenSharing(true);\r\n      screenTrack.onended = () => {\r\n        sender.replaceTrack(localStream.current.getVideoTracks()[0]);\r\n        setScreenSharing(false);\r\n      };\r\n    } catch (e) {\r\n      setError('Screen sharing failed');\r\n    }\r\n  };\r\n\r\n  const takeScreenshot = async () => {\r\n    if (!localVideoRef.current) return;\r\n    const canvas = await html2canvas(localVideoRef.current);\r\n    const link = document.createElement('a');\r\n    link.href = canvas.toDataURL('image/png');\r\n    link.download = 'screenshot.png';\r\n    link.click();\r\n  };\r\n\r\n  return (\r\n    <div className=\"room-container\">\r\n      <h2>Room: {roomId}</h2>\r\n      <div>\r\n        <video ref={localVideoRef} autoPlay muted playsInline width={200} />\r\n        <video ref={remoteVideoRef} autoPlay playsInline width={200} />\r\n      </div>\r\n      <div>\r\n        <button onClick={toggleMic}>{micOn ? 'Mute Mic' : 'Unmute Mic'}</button>\r\n        <button onClick={toggleCam}>{camOn ? 'Turn Off Cam' : 'Turn On Cam'}</button>\r\n        <button onClick={startCall}>Start Call</button>\r\n        <button onClick={leaveRoom}>Leave Room</button>\r\n        <button onClick={startScreenShare} disabled={screenSharing}>Share Screen</button>\r\n        <button onClick={takeScreenshot}>Screenshot</button>\r\n      </div>\r\n      <div>\r\n        <strong>Participants:</strong> {participants.join(', ')}\r\n      </div>\r\n      {error && <div className=\"error\">{error}</div>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Room;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}