{"ast":null,"code":"var _jsxFileName = \"D:\\\\256\\\\web\\\\src\\\\Room.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport io from 'socket.io-client';\nimport { v4 as uuidv4 } from 'uuid';\nimport html2canvas from 'html2canvas';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst SIGNAL_SERVER = 'http://localhost:5000';\nfunction Room({\n  roomId\n}) {\n  _s();\n  const [participants, setParticipants] = useState([]);\n  const [remoteStreams, setRemoteStreams] = useState({}); // userId -> MediaStream\n  const [micOn, setMicOn] = useState(true);\n  const [camOn, setCamOn] = useState(true);\n  const [screenSharing, setScreenSharing] = useState(false);\n  const [error, setError] = useState('');\n  const [showPermissionPrompt, setShowPermissionPrompt] = useState(true);\n  const localVideoRef = useRef();\n  const socketRef = useRef();\n  const peersRef = useRef({}); // userId -> RTCPeerConnection\n  const userId = useRef(uuidv4());\n  const localStream = useRef();\n  const screenStream = useRef();\n  useEffect(() => {\n    socketRef.current = io(SIGNAL_SERVER);\n    socketRef.current.emit('join', {\n      roomId,\n      userId: userId.current\n    });\n    socketRef.current.on('participants', list => {\n      setParticipants(list);\n      // Create peer connections to all existing participants (except self)\n      list.forEach(existingId => {\n        if (existingId !== userId.current && !peersRef.current[existingId]) {\n          const peer = createPeer(existingId, true);\n          peersRef.current[existingId] = peer;\n        }\n      });\n    });\n    socketRef.current.on('signal', handleSignal);\n    socketRef.current.on('error', setError);\n    socketRef.current.on('new-user', ({\n      userId: newUserId\n    }) => {\n      // All existing users create a peer connection to the new user\n      if (newUserId !== userId.current && !peersRef.current[newUserId]) {\n        const peer = createPeer(newUserId, true);\n        peersRef.current[newUserId] = peer;\n      }\n    });\n    return () => {\n      socketRef.current.emit('leave', {\n        roomId,\n        userId: userId.current\n      });\n      socketRef.current.disconnect();\n      Object.values(peersRef.current).forEach(peer => peer.close());\n    };\n    // eslint-disable-next-line\n  }, []);\n  useEffect(() => {\n    if (!roomId) return;\n    setShowPermissionPrompt(true);\n    // Do not call startLocalStream here!\n    // Request camera/mic permissions and start local stream only when joining a new meeting\n    // eslint-disable-next-line\n  }, [roomId]);\n  const handleAllowPermissions = async () => {\n    setShowPermissionPrompt(false);\n    await startLocalStream();\n  };\n  const startLocalStream = async () => {\n    try {\n      localStream.current = await navigator.mediaDevices.getUserMedia({\n        video: true,\n        audio: true\n      });\n    } catch (e) {\n      setError('Could not access camera/mic');\n    }\n  };\n\n  // Handle new user: create a peer connection for them\n  const handleNewUser = async ({\n    userId: newUserId\n  }) => {\n    if (newUserId === userId.current) return;\n    if (!peersRef.current[newUserId]) {\n      const peer = createPeer(newUserId, true);\n      peersRef.current[newUserId] = peer;\n    }\n  };\n\n  // Helper to determine if we are polite (lexicographically greater userId)\n  const isPolite = otherUserId => userId.current > otherUserId;\n\n  // Create peer connection for a user\n  const createPeer = (otherUserId, initiator) => {\n    const peer = new window.RTCPeerConnection();\n    if (localStream.current) {\n      localStream.current.getTracks().forEach(track => peer.addTrack(track, localStream.current));\n    }\n    peer.ontrack = e => {\n      setRemoteStreams(prev => ({\n        ...prev,\n        [otherUserId]: e.streams[0]\n      }));\n    };\n    peer.onicecandidate = e => {\n      if (e.candidate) {\n        socketRef.current.emit('signal', {\n          roomId,\n          userId: userId.current,\n          to: otherUserId,\n          signal: {\n            candidate: e.candidate\n          }\n        });\n      }\n    };\n    if (initiator) {\n      peer.createOffer().then(offer => {\n        peer.setLocalDescription(offer);\n        socketRef.current.emit('signal', {\n          roomId,\n          userId: userId.current,\n          to: otherUserId,\n          signal: {\n            sdp: offer\n          }\n        });\n      });\n    }\n    return peer;\n  };\n\n  // Handle incoming signal with polite peer logic\n  const handleSignal = async ({\n    userId: from,\n    signal\n  }) => {\n    if (from === userId.current) return;\n    let peer = peersRef.current[from];\n    if (!peer) {\n      peer = createPeer(from, false);\n      peersRef.current[from] = peer;\n    }\n    try {\n      if (signal.sdp) {\n        const desc = new RTCSessionDescription(signal.sdp);\n        const isOffer = desc.type === 'offer';\n        const polite = isPolite(from);\n        if (isOffer) {\n          const signalingState = peer.signalingState;\n          if (signalingState !== 'stable') {\n            if (!polite) {\n              // Impolite peer ignores glare offer\n              return;\n            }\n            // Polite peer rolls back and accepts the offer\n            await peer.setLocalDescription({\n              type: 'rollback'\n            });\n          }\n          await peer.setRemoteDescription(desc);\n          const answer = await peer.createAnswer();\n          await peer.setLocalDescription(answer);\n          socketRef.current.emit('signal', {\n            roomId,\n            userId: userId.current,\n            to: from,\n            signal: {\n              sdp: answer\n            }\n          });\n        } else {\n          await peer.setRemoteDescription(desc);\n        }\n      } else if (signal.candidate) {\n        try {\n          await peer.addIceCandidate(new RTCIceCandidate(signal.candidate));\n        } catch (err) {\n          // Ignore ICE candidate errors\n        }\n      }\n    } catch (err) {\n      // Optionally log or handle error\n    }\n  };\n  const toggleMic = () => {\n    localStream.current.getAudioTracks().forEach(track => track.enabled = !micOn);\n    setMicOn(!micOn);\n  };\n  const toggleCam = () => {\n    localStream.current.getVideoTracks().forEach(track => track.enabled = !camOn);\n    setCamOn(!camOn);\n  };\n  const leaveRoom = () => {\n    socketRef.current.emit('leave', {\n      roomId,\n      userId: userId.current\n    });\n    window.location.reload();\n  };\n  const startScreenShare = async () => {\n    try {\n      screenStream.current = await navigator.mediaDevices.getDisplayMedia({\n        video: true\n      });\n      const screenTrack = screenStream.current.getVideoTracks()[0];\n      const sender = peerRef.current.getSenders().find(s => s.track.kind === 'video');\n      sender.replaceTrack(screenTrack);\n      setScreenSharing(true);\n      screenTrack.onended = () => {\n        sender.replaceTrack(localStream.current.getVideoTracks()[0]);\n        setScreenSharing(false);\n      };\n    } catch (e) {\n      setError('Screen sharing failed');\n    }\n  };\n  const takeScreenshot = async () => {\n    // Take screenshot of the first video element (your own or the first remote)\n    let videoEl = localVideoRef.current;\n    if (!videoEl || !videoEl.srcObject) {\n      // Try to find any video element in the DOM\n      videoEl = document.querySelector('video');\n      if (!videoEl || !videoEl.srcObject) {\n        setError('No video available for screenshot');\n        return;\n      }\n    }\n    // Create a canvas and draw the current video frame\n    const canvas = document.createElement('canvas');\n    canvas.width = videoEl.videoWidth || 640;\n    canvas.height = videoEl.videoHeight || 480;\n    const ctx = canvas.getContext('2d');\n    ctx.drawImage(videoEl, 0, 0, canvas.width, canvas.height);\n    // Download the image\n    const link = document.createElement('a');\n    link.href = canvas.toDataURL('image/png');\n    link.download = 'screenshot.png';\n    link.click();\n  };\n\n  // Helper for initials\n  const getInitials = name => name.split(' ').map(n => n[0]).join('').toUpperCase();\n\n  // Responsive grid columns\n  const getGridColumns = () => {\n    const count = participantGrid.length;\n    if (count === 1) return '1fr';\n    if (count === 2) return 'repeat(2, 1fr)';\n    if (count <= 4) return 'repeat(2, 1fr)';\n    if (count <= 6) return 'repeat(3, 1fr)';\n    if (count <= 9) return 'repeat(3, 1fr)';\n    return 'repeat(4, 1fr)';\n  };\n\n  // Compose participant list for grid (local + remote)\n  const participantGrid = [{\n    id: userId.current,\n    name: 'You',\n    cameraOn: camOn && localStream.current,\n    isLocal: true,\n    avatarUrl: null,\n    stream: localStream.current\n  }, ...participants.filter(p => p !== userId.current && typeof p === 'string').map(name => ({\n    id: name,\n    name,\n    cameraOn: !!remoteStreams[name],\n    isLocal: false,\n    avatarUrl: null,\n    stream: remoteStreams[name] || null\n  }))];\n\n  // Generate random avatar colors\n  const getAvatarColor = name => {\n    const colors = ['#FF6B6B', '#4ECDC4', '#45B7D1', '#96CEB4', '#FECA57', '#FF9FF3', '#54A0FF', '#5F27CD', '#00D2D3', '#FF9F43', '#2ED573', '#3742FA', '#F8B500', '#EE5A52', '#0abde3'];\n    const index = name.charCodeAt(0) % colors.length;\n    return colors[index];\n  };\n\n  // Render participant tile\n  const renderParticipant = (user, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      background: '#0F0F23',\n      borderRadius: 16,\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      justifyContent: 'center',\n      minWidth: participantGrid.length === 1 ? 400 : 280,\n      minHeight: participantGrid.length === 1 ? 300 : 200,\n      width: '100%',\n      position: 'relative',\n      overflow: 'hidden',\n      border: user.isLocal ? '3px solid #00C9FF' : '2px solid #1e1e3f',\n      boxShadow: user.isLocal ? '0 8px 32px rgba(0, 201, 255, 0.3)' : '0 8px 24px rgba(0,0,0,0.4)',\n      transition: 'all 0.3s ease'\n    },\n    children: [user.cameraOn && user.stream && /*#__PURE__*/_jsxDEV(\"video\", {\n      ref: el => {\n        if (el && user.stream) {\n          el.srcObject = user.stream;\n          if (user.isLocal) localVideoRef.current = el;\n        }\n      },\n      autoPlay: true,\n      muted: user.isLocal,\n      playsInline: true,\n      style: {\n        width: '100%',\n        height: '100%',\n        objectFit: 'cover',\n        borderRadius: 13\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 9\n    }, this), (!user.cameraOn || !user.stream) && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n        height: '100%',\n        color: '#fff'\n      },\n      children: [user.avatarUrl ? /*#__PURE__*/_jsxDEV(\"img\", {\n        src: user.avatarUrl,\n        alt: user.name,\n        style: {\n          width: participantGrid.length === 1 ? 120 : 80,\n          height: participantGrid.length === 1 ? 120 : 80,\n          borderRadius: '50%',\n          marginBottom: 12,\n          objectFit: 'cover',\n          border: '4px solid rgba(255,255,255,0.2)'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: participantGrid.length === 1 ? 120 : 80,\n          height: participantGrid.length === 1 ? 120 : 80,\n          borderRadius: '50%',\n          marginBottom: 12,\n          background: `linear-gradient(135deg, ${getAvatarColor(user.name)}, ${getAvatarColor(user.name)}CC)`,\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          fontSize: participantGrid.length === 1 ? 36 : 28,\n          fontWeight: 700,\n          color: '#fff',\n          border: '4px solid rgba(255,255,255,0.3)',\n          boxShadow: '0 4px 16px rgba(0,0,0,0.3)'\n        },\n        children: getInitials(user.name || '')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: participantGrid.length === 1 ? 18 : 14,\n          fontWeight: 500,\n          color: 'rgba(255,255,255,0.9)',\n          textAlign: 'center'\n        },\n        children: \"Camera is off\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        top: 12,\n        right: 12,\n        display: 'flex',\n        gap: 8\n      },\n      children: [user.isLocal && !micOn && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: 32,\n          height: 32,\n          borderRadius: '50%',\n          background: 'linear-gradient(135deg, #FF4757, #FF3838)',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          fontSize: 14,\n          border: '2px solid rgba(255,255,255,0.9)',\n          boxShadow: '0 2px 8px rgba(255, 71, 87, 0.4)'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          width: \"16\",\n          height: \"16\",\n          viewBox: \"0 0 24 24\",\n          fill: \"white\",\n          children: [/*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M16 8c0-2.21-1.79-4-4-4S8 5.79 8 8v4c0 2.21 1.79 4 4 4s4-1.79 4-4V8z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M19 10v2c0 3.87-3.13 7-7 7s-7-3.13-7-7v-2h2v2c0 2.76 2.24 5 5 5s5-2.24 5-5v-2h2z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n            x1: \"2\",\n            y1: \"2\",\n            x2: \"22\",\n            y2: \"22\",\n            stroke: \"white\",\n            strokeWidth: \"2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 385,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 11\n      }, this), user.isLocal && micOn && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: 32,\n          height: 32,\n          borderRadius: '50%',\n          background: 'linear-gradient(135deg, #2ED573, #20BF6B)',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          fontSize: 14,\n          border: '2px solid rgba(255,255,255,0.9)',\n          boxShadow: '0 2px 8px rgba(46, 213, 115, 0.4)'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          width: \"16\",\n          height: \"16\",\n          viewBox: \"0 0 24 24\",\n          fill: \"white\",\n          children: [/*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M16 8c0-2.21-1.79-4-4-4S8 5.79 8 8v4c0 2.21 1.79 4 4 4s4-1.79 4-4V8z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M19 10v2c0 3.87-3.13 7-7 7s-7-3.13-7-7v-2h2v2c0 2.76 2.24 5 5 5s5-2.24 5-5v-2h2z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 362,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        bottom: 0,\n        left: 0,\n        right: 0,\n        background: user.cameraOn && user.stream ? 'linear-gradient(transparent, rgba(0,0,0,0.8))' : 'transparent',\n        color: '#fff',\n        padding: user.cameraOn && user.stream ? '24px 16px 12px' : '8px 16px',\n        fontSize: 16,\n        fontWeight: 600,\n        textAlign: 'center',\n        textShadow: '0 2px 4px rgba(0,0,0,0.5)'\n      },\n      children: user.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 411,\n      columnNumber: 7\n    }, this)]\n  }, user.id || user.name || idx, true, {\n    fileName: _jsxFileName,\n    lineNumber: 264,\n    columnNumber: 5\n  }, this);\n  useEffect(() => {\n    if (!localStream.current) return;\n    // For each peer, add tracks if not already present and renegotiate\n    Object.entries(peersRef.current).forEach(([peerId, peer]) => {\n      // Add tracks if not already present\n      const senders = peer.getSenders();\n      localStream.current.getTracks().forEach(track => {\n        if (!senders.find(sender => sender.track && sender.track.kind === track.kind)) {\n          peer.addTrack(track, localStream.current);\n        }\n      });\n      // Renegotiate (create and send new offer)\n      peer.createOffer().then(offer => {\n        peer.setLocalDescription(offer);\n        socketRef.current.emit('signal', {\n          roomId,\n          userId: userId.current,\n          to: peerId,\n          signal: {\n            sdp: offer\n          }\n        });\n      });\n    });\n  }, [localStream.current]);\n  const controlButtonStyle = {\n    width: 56,\n    height: 56,\n    borderRadius: '50%',\n    border: 'none',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    fontSize: 18,\n    cursor: 'pointer',\n    transition: 'all 0.3s ease',\n    fontWeight: 600,\n    position: 'relative',\n    overflow: 'hidden'\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      minHeight: '100vh',\n      background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n      display: 'flex',\n      flexDirection: 'column',\n      fontFamily: '\"Inter\", \"Segoe UI\", Tahoma, Geneva, Verdana, sans-serif'\n    },\n    children: [showPermissionPrompt && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        width: '100vw',\n        height: '100vh',\n        background: 'rgba(0,0,0,0.85)',\n        zIndex: 1000,\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        backdropFilter: 'blur(10px)'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: 'linear-gradient(135deg, #667eea, #764ba2)',\n          borderRadius: 20,\n          padding: 48,\n          boxShadow: '0 20px 60px rgba(0,0,0,0.4)',\n          maxWidth: 450,\n          textAlign: 'center',\n          border: '1px solid rgba(255,255,255,0.2)'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: 64,\n            marginBottom: 24,\n            background: 'linear-gradient(135deg, #00C9FF, #92FE9D)',\n            borderRadius: '50%',\n            width: 100,\n            height: 100,\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            margin: '0 auto 24px'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            width: \"40\",\n            height: \"40\",\n            viewBox: \"0 0 24 24\",\n            fill: \"white\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 513,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 512,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 500,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            margin: '0 0 16px 0',\n            color: '#fff',\n            fontSize: 28,\n            fontWeight: 700\n          },\n          children: \"Join Meeting\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 516,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            margin: '0 0 32px 0',\n            color: 'rgba(255,255,255,0.9)',\n            lineHeight: 1.6,\n            fontSize: 16\n          },\n          children: \"We need access to your camera and microphone to connect you with others in this meeting.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 519,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleAllowPermissions,\n          style: {\n            background: 'linear-gradient(135deg, #00C9FF, #92FE9D)',\n            color: 'white',\n            border: 'none',\n            borderRadius: 12,\n            fontSize: 18,\n            fontWeight: 700,\n            padding: '16px 40px',\n            cursor: 'pointer',\n            transition: 'all 0.3s ease',\n            boxShadow: '0 8px 24px rgba(0, 201, 255, 0.3)',\n            textTransform: 'uppercase',\n            letterSpacing: '1px'\n          },\n          onMouseOver: e => {\n            e.target.style.transform = 'translateY(-2px)';\n            e.target.style.boxShadow = '0 12px 32px rgba(0, 201, 255, 0.4)';\n          },\n          onMouseOut: e => {\n            e.target.style.transform = 'translateY(0)';\n            e.target.style.boxShadow = '0 8px 24px rgba(0, 201, 255, 0.3)';\n          },\n          children: \"Join Now\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 522,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 491,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 478,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        background: 'rgba(15, 15, 35, 0.9)',\n        backdropFilter: 'blur(20px)',\n        padding: '20px 32px',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        borderBottom: '1px solid rgba(255,255,255,0.1)'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          gap: 16\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: 48,\n            height: 48,\n            background: 'linear-gradient(135deg, #00C9FF, #92FE9D)',\n            borderRadius: 12,\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            fontSize: 24,\n            boxShadow: '0 4px 16px rgba(0, 201, 255, 0.3)'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            width: \"24\",\n            height: \"24\",\n            viewBox: \"0 0 24 24\",\n            fill: \"white\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 576,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 575,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 564,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            style: {\n              margin: 0,\n              color: '#fff',\n              fontSize: 24,\n              fontWeight: 700\n            },\n            children: \"Meeting Room\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 580,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              margin: 0,\n              color: 'rgba(255,255,255,0.7)',\n              fontSize: 14\n            },\n            children: [\"Room ID: \", roomId.length > 20 ? `${roomId.substring(0, 20)}...` : roomId]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 583,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 579,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 563,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: 'rgba(255,255,255,0.9)',\n          fontSize: 16,\n          background: 'rgba(255,255,255,0.1)',\n          padding: '8px 16px',\n          borderRadius: 20,\n          fontWeight: 600\n        },\n        children: [participantGrid.length, \" participant\", participantGrid.length !== 1 ? 's' : '']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 588,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 554,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        flex: 1,\n        display: 'flex',\n        flexDirection: 'column',\n        padding: 32\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'grid',\n          gridTemplateColumns: getGridColumns(),\n          gap: 24,\n          alignItems: 'center',\n          justifyItems: 'center',\n          maxWidth: 1400,\n          margin: '0 auto',\n          width: '100%',\n          flex: 1\n        },\n        children: [participantGrid.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: 'rgba(255,255,255,0.8)',\n            textAlign: 'center',\n            gridColumn: '1/-1',\n            fontSize: 20,\n            fontWeight: 500\n          },\n          children: \"Waiting for participants to join...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 617,\n          columnNumber: 13\n        }, this), participantGrid.map(renderParticipant)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 603,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 601,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        background: 'rgba(15, 15, 35, 0.95)',\n        backdropFilter: 'blur(20px)',\n        padding: '20px 32px',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        gap: 20,\n        borderTop: '1px solid rgba(255,255,255,0.1)'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: toggleMic,\n        style: {\n          ...controlButtonStyle,\n          background: micOn ? 'linear-gradient(135deg, #2ED573, #20BF6B)' : 'linear-gradient(135deg, #FF4757, #FF3838)',\n          color: '#fff',\n          boxShadow: micOn ? '0 6px 20px rgba(46, 213, 115, 0.4)' : '0 6px 20px rgba(255, 71, 87, 0.4)'\n        },\n        onMouseOver: e => {\n          e.target.style.transform = 'translateY(-3px)';\n          e.target.style.boxShadow = micOn ? '0 8px 25px rgba(46, 213, 115, 0.6)' : '0 8px 25px rgba(255, 71, 87, 0.6)';\n        },\n        onMouseOut: e => {\n          e.target.style.transform = 'translateY(0)';\n          e.target.style.boxShadow = micOn ? '0 6px 20px rgba(46, 213, 115, 0.4)' : '0 6px 20px rgba(255, 71, 87, 0.4)';\n        },\n        title: micOn ? 'Mute microphone' : 'Unmute microphone',\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          width: \"20\",\n          height: \"20\",\n          viewBox: \"0 0 24 24\",\n          fill: \"currentColor\",\n          children: micOn ? /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M16 8c0-2.21-1.79-4-4-4S8 5.79 8 8v4c0 2.21 1.79 4 4 4s4-1.79 4-4V8zM19 10v2c0 3.87-3.13 7-7 7s-7-3.13-7-7v-2h2v2c0 2.76 2.24 5 5 5s5-2.24 5-5v-2h2z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 670,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M16 8c0-2.21-1.79-4-4-4S8 5.79 8 8v4c0 2.21 1.79 4 4 4s4-1.79 4-4V8z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 673,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M19 10v2c0 3.87-3.13 7-7 7s-7-3.13-7-7v-2h2v2c0 2.76 2.24 5 5 5s5-2.24 5-5v-2h2z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 674,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n              x1: \"2\",\n              y1: \"2\",\n              x2: \"22\",\n              y2: \"22\",\n              stroke: \"currentColor\",\n              strokeWidth: \"2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 675,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 668,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 642,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: toggleCam,\n        style: {\n          ...controlButtonStyle,\n          background: camOn ? 'linear-gradient(135deg, #3742FA, #2F3A8F)' : 'linear-gradient(135deg, #FF4757, #FF3838)',\n          color: '#fff',\n          boxShadow: camOn ? '0 6px 20px rgba(55, 66, 250, 0.4)' : '0 6px 20px rgba(255, 71, 87, 0.4)'\n        },\n        onMouseOver: e => {\n          e.target.style.transform = 'translateY(-3px)';\n          e.target.style.boxShadow = camOn ? '0 8px 25px rgba(55, 66, 250, 0.6)' : '0 8px 25px rgba(255, 71, 87, 0.6)';\n        },\n        onMouseOut: e => {\n          e.target.style.transform = 'translateY(0)';\n          e.target.style.boxShadow = camOn ? '0 6px 20px rgba(55, 66, 250, 0.4)' : '0 6px 20px rgba(255, 71, 87, 0.4)';\n        },\n        title: camOn ? 'Turn off camera' : 'Turn on camera',\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          width: \"20\",\n          height: \"20\",\n          viewBox: \"0 0 24 24\",\n          fill: \"currentColor\",\n          children: camOn ? /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 709,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 712,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n              x1: \"2\",\n              y1: \"2\",\n              x2: \"22\",\n              y2: \"22\",\n              stroke: \"currentColor\",\n              strokeWidth: \"2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 713,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 707,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 681,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: startScreenShare,\n        disabled: screenSharing,\n        style: {\n          ...controlButtonStyle,\n          background: screenSharing ? 'linear-gradient(135deg, #00C9FF, #92FE9D)' : 'linear-gradient(135deg, #45B7D1, #4A90E2)',\n          color: '#fff',\n          opacity: screenSharing ? 1 : 0.9,\n          boxShadow: '0 6px 20px rgba(69, 183, 209, 0.4)'\n        },\n        onMouseOver: e => {\n          if (!screenSharing) {\n            e.target.style.transform = 'translateY(-3px)';\n            e.target.style.boxShadow = '0 8px 25px rgba(69, 183, 209, 0.6)';\n          }\n        },\n        onMouseOut: e => {\n          if (!screenSharing) {\n            e.target.style.transform = 'translateY(0)';\n            e.target.style.boxShadow = '0 6px 20px rgba(69, 183, 209, 0.4)';\n          }\n        },\n        title: \"Share screen\",\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          width: \"20\",\n          height: \"20\",\n          viewBox: \"0 0 24 24\",\n          fill: \"currentColor\",\n          children: [/*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M20 18c1.1 0 1.99-.9 1.99-2L22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2h-4zM4 6h16v10H4V6z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 746,\n            columnNumber: 13\n          }, this), screenSharing && /*#__PURE__*/_jsxDEV(\"circle\", {\n            cx: \"12\",\n            cy: \"11\",\n            r: \"3\",\n            fill: \"currentColor\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 747,\n            columnNumber: 31\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 745,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 719,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: takeScreenshot,\n        style: {\n          ...controlButtonStyle,\n          background: 'linear-gradient(135deg, #FECA57, #FF9F43)',\n          color: '#fff',\n          boxShadow: '0 6px 20px rgba(254, 202, 87, 0.4)'\n        },\n        onMouseOver: e => {\n          e.target.style.transform = 'translateY(-3px)';\n          e.target.style.boxShadow = '0 8px 25px rgba(254, 202, 87, 0.6)';\n        },\n        onMouseOut: e => {\n          e.target.style.transform = 'translateY(0)';\n          e.target.style.boxShadow = '0 6px 20px rgba(254, 202, 87, 0.4)';\n        },\n        title: \"Take screenshot\",\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          width: \"20\",\n          height: \"20\",\n          viewBox: \"0 0 24 24\",\n          fill: \"currentColor\",\n          children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n            cx: \"12\",\n            cy: \"12\",\n            r: \"3.2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 770,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 771,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 769,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 751,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: 2,\n          height: 40,\n          background: 'linear-gradient(135deg, rgba(255,255,255,0.2), rgba(255,255,255,0.1))',\n          margin: '0 8px',\n          borderRadius: 1\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 775,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: leaveRoom,\n        style: {\n          ...controlButtonStyle,\n          background: 'linear-gradient(135deg, #FF4757, #C44569)',\n          color: '#fff',\n          boxShadow: '0 6px 20px rgba(255, 71, 87, 0.4)'\n        },\n        onMouseOver: e => {\n          e.target.style.transform = 'translateY(-3px)';\n          e.target.style.boxShadow = '0 8px 25px rgba(255, 71, 87, 0.6)';\n        },\n        onMouseOut: e => {\n          e.target.style.transform = 'translateY(0)';\n          e.target.style.boxShadow = '0 6px 20px rgba(255, 71, 87, 0.4)';\n        },\n        title: \"Leave meeting\",\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          width: \"20\",\n          height: \"20\",\n          viewBox: \"0 0 24 24\",\n          fill: \"currentColor\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M12 9c-1.6 0-3.15.25-4.6.72v3.1c0 .39-.23.74-.56.9-.98.49-1.87 1.12-2.66 1.85-.18.18-.43.28-.7.28-.28 0-.53-.11-.71-.29L.29 13.08c-.18-.17-.29-.42-.29-.7 0-.28.11-.53.29-.71C3.34 8.78 7.46 7 12 7s8.66 1.78 11.71 4.67c.18.18.29.43.29.71 0 .28-.11.53-.29.7l-2.48 2.48c-.18.18-.43.29-.71.29-.27 0-.52-.1-.7-.28-.79-.73-1.68-1.36-2.66-1.85-.33-.16-.56-.51-.56-.9v-3.1C15.15 9.25 13.6 9 12 9z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 802,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 801,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 783,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 632,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'fixed',\n        top: 100,\n        right: 32,\n        background: 'linear-gradient(135deg, #FF4757, #C44569)',\n        color: '#fff',\n        padding: '16px 20px',\n        borderRadius: 12,\n        fontSize: 16,\n        fontWeight: 600,\n        boxShadow: '0 8px 32px rgba(255, 71, 87, 0.4)',\n        zIndex: 1000,\n        border: '1px solid rgba(255,255,255,0.2)',\n        backdropFilter: 'blur(10px)',\n        animation: 'slideIn 0.3s ease'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          gap: 12\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          width: \"20\",\n          height: \"20\",\n          viewBox: \"0 0 24 24\",\n          fill: \"currentColor\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 827,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 826,\n          columnNumber: 13\n        }, this), error]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 825,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 809,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      jsx: true,\n      children: `\n        @keyframes slideIn {\n          from { transform: translateX(100%); opacity: 0; }\n          to { transform: translateX(0); opacity: 1; }\n        }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 834,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 469,\n    columnNumber: 5\n  }, this);\n}\n_s(Room, \"7Tua2ks+pgIzvP8PL6/JaX7C57I=\");\n_c = Room;\nexport default Room;\nvar _c;\n$RefreshReg$(_c, \"Room\");","map":{"version":3,"names":["React","useEffect","useRef","useState","io","v4","uuidv4","html2canvas","jsxDEV","_jsxDEV","Fragment","_Fragment","SIGNAL_SERVER","Room","roomId","_s","participants","setParticipants","remoteStreams","setRemoteStreams","micOn","setMicOn","camOn","setCamOn","screenSharing","setScreenSharing","error","setError","showPermissionPrompt","setShowPermissionPrompt","localVideoRef","socketRef","peersRef","userId","localStream","screenStream","current","emit","on","list","forEach","existingId","peer","createPeer","handleSignal","newUserId","disconnect","Object","values","close","handleAllowPermissions","startLocalStream","navigator","mediaDevices","getUserMedia","video","audio","e","handleNewUser","isPolite","otherUserId","initiator","window","RTCPeerConnection","getTracks","track","addTrack","ontrack","prev","streams","onicecandidate","candidate","to","signal","createOffer","then","offer","setLocalDescription","sdp","from","desc","RTCSessionDescription","isOffer","type","polite","signalingState","setRemoteDescription","answer","createAnswer","addIceCandidate","RTCIceCandidate","err","toggleMic","getAudioTracks","enabled","toggleCam","getVideoTracks","leaveRoom","location","reload","startScreenShare","getDisplayMedia","screenTrack","sender","peerRef","getSenders","find","s","kind","replaceTrack","onended","takeScreenshot","videoEl","srcObject","document","querySelector","canvas","createElement","width","videoWidth","height","videoHeight","ctx","getContext","drawImage","link","href","toDataURL","download","click","getInitials","name","split","map","n","join","toUpperCase","getGridColumns","count","participantGrid","length","id","cameraOn","isLocal","avatarUrl","stream","filter","p","getAvatarColor","colors","index","charCodeAt","renderParticipant","user","idx","style","background","borderRadius","display","flexDirection","alignItems","justifyContent","minWidth","minHeight","position","overflow","border","boxShadow","transition","children","ref","el","autoPlay","muted","playsInline","objectFit","fileName","_jsxFileName","lineNumber","columnNumber","color","src","alt","marginBottom","fontSize","fontWeight","textAlign","top","right","gap","viewBox","fill","d","x1","y1","x2","y2","stroke","strokeWidth","bottom","left","padding","textShadow","entries","peerId","senders","controlButtonStyle","cursor","fontFamily","zIndex","backdropFilter","maxWidth","margin","lineHeight","onClick","textTransform","letterSpacing","onMouseOver","target","transform","onMouseOut","borderBottom","substring","flex","gridTemplateColumns","justifyItems","gridColumn","borderTop","title","disabled","opacity","cx","cy","r","animation","jsx","_c","$RefreshReg$"],"sources":["D:/256/web/src/Room.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport io from 'socket.io-client';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport html2canvas from 'html2canvas';\r\n\r\nconst SIGNAL_SERVER = 'http://localhost:5000';\r\n\r\nfunction Room({ roomId }) {\r\n  const [participants, setParticipants] = useState([]);\r\n  const [remoteStreams, setRemoteStreams] = useState({}); // userId -> MediaStream\r\n  const [micOn, setMicOn] = useState(true);\r\n  const [camOn, setCamOn] = useState(true);\r\n  const [screenSharing, setScreenSharing] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [showPermissionPrompt, setShowPermissionPrompt] = useState(true);\r\n  const localVideoRef = useRef();\r\n  const socketRef = useRef();\r\n  const peersRef = useRef({}); // userId -> RTCPeerConnection\r\n  const userId = useRef(uuidv4());\r\n  const localStream = useRef();\r\n  const screenStream = useRef();\r\n\r\n  useEffect(() => {\r\n    socketRef.current = io(SIGNAL_SERVER);\r\n    socketRef.current.emit('join', { roomId, userId: userId.current });\r\n    socketRef.current.on('participants', (list) => {\r\n      setParticipants(list);\r\n      // Create peer connections to all existing participants (except self)\r\n      list.forEach(existingId => {\r\n        if (existingId !== userId.current && !peersRef.current[existingId]) {\r\n          const peer = createPeer(existingId, true);\r\n          peersRef.current[existingId] = peer;\r\n        }\r\n      });\r\n    });\r\n    socketRef.current.on('signal', handleSignal);\r\n    socketRef.current.on('error', setError);\r\n    socketRef.current.on('new-user', ({ userId: newUserId }) => {\r\n      // All existing users create a peer connection to the new user\r\n      if (newUserId !== userId.current && !peersRef.current[newUserId]) {\r\n        const peer = createPeer(newUserId, true);\r\n        peersRef.current[newUserId] = peer;\r\n      }\r\n    });\r\n    return () => {\r\n      socketRef.current.emit('leave', { roomId, userId: userId.current });\r\n      socketRef.current.disconnect();\r\n      Object.values(peersRef.current).forEach(peer => peer.close());\r\n    };\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!roomId) return;\r\n    setShowPermissionPrompt(true);\r\n    // Do not call startLocalStream here!\r\n    // Request camera/mic permissions and start local stream only when joining a new meeting\r\n    // eslint-disable-next-line\r\n  }, [roomId]);\r\n\r\n  const handleAllowPermissions = async () => {\r\n    setShowPermissionPrompt(false);\r\n    await startLocalStream();\r\n  };\r\n\r\n  const startLocalStream = async () => {\r\n    try {\r\n      localStream.current = await navigator.mediaDevices.getUserMedia({ video: true, audio: true });\r\n    } catch (e) {\r\n      setError('Could not access camera/mic');\r\n    }\r\n  };\r\n\r\n  // Handle new user: create a peer connection for them\r\n  const handleNewUser = async ({ userId: newUserId }) => {\r\n    if (newUserId === userId.current) return;\r\n    if (!peersRef.current[newUserId]) {\r\n      const peer = createPeer(newUserId, true);\r\n      peersRef.current[newUserId] = peer;\r\n    }\r\n  };\r\n\r\n  // Helper to determine if we are polite (lexicographically greater userId)\r\n  const isPolite = (otherUserId) => userId.current > otherUserId;\r\n\r\n  // Create peer connection for a user\r\n  const createPeer = (otherUserId, initiator) => {\r\n    const peer = new window.RTCPeerConnection();\r\n    if (localStream.current) {\r\n      localStream.current.getTracks().forEach(track => peer.addTrack(track, localStream.current));\r\n    }\r\n    peer.ontrack = (e) => {\r\n      setRemoteStreams(prev => ({\r\n        ...prev,\r\n        [otherUserId]: e.streams[0]\r\n      }));\r\n    };\r\n    peer.onicecandidate = (e) => {\r\n      if (e.candidate) {\r\n        socketRef.current.emit('signal', { roomId, userId: userId.current, to: otherUserId, signal: { candidate: e.candidate } });\r\n      }\r\n    };\r\n    if (initiator) {\r\n      peer.createOffer().then(offer => {\r\n        peer.setLocalDescription(offer);\r\n        socketRef.current.emit('signal', { roomId, userId: userId.current, to: otherUserId, signal: { sdp: offer } });\r\n      });\r\n    }\r\n    return peer;\r\n  };\r\n\r\n  // Handle incoming signal with polite peer logic\r\n  const handleSignal = async ({ userId: from, signal }) => {\r\n    if (from === userId.current) return;\r\n    let peer = peersRef.current[from];\r\n    if (!peer) {\r\n      peer = createPeer(from, false);\r\n      peersRef.current[from] = peer;\r\n    }\r\n    try {\r\n      if (signal.sdp) {\r\n        const desc = new RTCSessionDescription(signal.sdp);\r\n        const isOffer = desc.type === 'offer';\r\n        const polite = isPolite(from);\r\n\r\n        if (isOffer) {\r\n          const signalingState = peer.signalingState;\r\n          if (signalingState !== 'stable') {\r\n            if (!polite) {\r\n              // Impolite peer ignores glare offer\r\n              return;\r\n            }\r\n            // Polite peer rolls back and accepts the offer\r\n            await peer.setLocalDescription({ type: 'rollback' });\r\n          }\r\n          await peer.setRemoteDescription(desc);\r\n          const answer = await peer.createAnswer();\r\n          await peer.setLocalDescription(answer);\r\n          socketRef.current.emit('signal', { roomId, userId: userId.current, to: from, signal: { sdp: answer } });\r\n        } else {\r\n          await peer.setRemoteDescription(desc);\r\n        }\r\n      } else if (signal.candidate) {\r\n        try {\r\n          await peer.addIceCandidate(new RTCIceCandidate(signal.candidate));\r\n        } catch (err) {\r\n          // Ignore ICE candidate errors\r\n        }\r\n      }\r\n    } catch (err) {\r\n      // Optionally log or handle error\r\n    }\r\n  };\r\n\r\n  const toggleMic = () => {\r\n    localStream.current.getAudioTracks().forEach(track => (track.enabled = !micOn));\r\n    setMicOn(!micOn);\r\n  };\r\n\r\n  const toggleCam = () => {\r\n    localStream.current.getVideoTracks().forEach(track => (track.enabled = !camOn));\r\n    setCamOn(!camOn);\r\n  };\r\n\r\n  const leaveRoom = () => {\r\n    socketRef.current.emit('leave', { roomId, userId: userId.current });\r\n    window.location.reload();\r\n  };\r\n\r\n  const startScreenShare = async () => {\r\n    try {\r\n      screenStream.current = await navigator.mediaDevices.getDisplayMedia({ video: true });\r\n      const screenTrack = screenStream.current.getVideoTracks()[0];\r\n      const sender = peerRef.current.getSenders().find(s => s.track.kind === 'video');\r\n      sender.replaceTrack(screenTrack);\r\n      setScreenSharing(true);\r\n      screenTrack.onended = () => {\r\n        sender.replaceTrack(localStream.current.getVideoTracks()[0]);\r\n        setScreenSharing(false);\r\n      };\r\n    } catch (e) {\r\n      setError('Screen sharing failed');\r\n    }\r\n  };\r\n\r\n  const takeScreenshot = async () => {\r\n    // Take screenshot of the first video element (your own or the first remote)\r\n    let videoEl = localVideoRef.current;\r\n    if (!videoEl || !videoEl.srcObject) {\r\n      // Try to find any video element in the DOM\r\n      videoEl = document.querySelector('video');\r\n      if (!videoEl || !videoEl.srcObject) {\r\n        setError('No video available for screenshot');\r\n        return;\r\n      }\r\n    }\r\n    // Create a canvas and draw the current video frame\r\n    const canvas = document.createElement('canvas');\r\n    canvas.width = videoEl.videoWidth || 640;\r\n    canvas.height = videoEl.videoHeight || 480;\r\n    const ctx = canvas.getContext('2d');\r\n    ctx.drawImage(videoEl, 0, 0, canvas.width, canvas.height);\r\n    // Download the image\r\n    const link = document.createElement('a');\r\n    link.href = canvas.toDataURL('image/png');\r\n    link.download = 'screenshot.png';\r\n    link.click();\r\n  };\r\n\r\n  // Helper for initials\r\n  const getInitials = name =>\r\n    name\r\n      .split(' ')\r\n      .map(n => n[0])\r\n      .join('')\r\n      .toUpperCase();\r\n\r\n  // Responsive grid columns\r\n  const getGridColumns = () => {\r\n    const count = participantGrid.length;\r\n    if (count === 1) return '1fr';\r\n    if (count === 2) return 'repeat(2, 1fr)';\r\n    if (count <= 4) return 'repeat(2, 1fr)';\r\n    if (count <= 6) return 'repeat(3, 1fr)';\r\n    if (count <= 9) return 'repeat(3, 1fr)';\r\n    return 'repeat(4, 1fr)';\r\n  };\r\n\r\n  // Compose participant list for grid (local + remote)\r\n  const participantGrid = [\r\n    {\r\n      id: userId.current,\r\n      name: 'You',\r\n      cameraOn: camOn && localStream.current,\r\n      isLocal: true,\r\n      avatarUrl: null,\r\n      stream: localStream.current,\r\n    },\r\n    ...participants\r\n      .filter(p => p !== userId.current && typeof p === 'string')\r\n      .map(name => ({\r\n        id: name,\r\n        name,\r\n        cameraOn: !!remoteStreams[name],\r\n        isLocal: false,\r\n        avatarUrl: null,\r\n        stream: remoteStreams[name] || null,\r\n      })),\r\n  ];\r\n\r\n  // Generate random avatar colors\r\n  const getAvatarColor = (name) => {\r\n    const colors = [\r\n      '#FF6B6B', '#4ECDC4', '#45B7D1', '#96CEB4', '#FECA57',\r\n      '#FF9FF3', '#54A0FF', '#5F27CD', '#00D2D3', '#FF9F43',\r\n      '#2ED573', '#3742FA', '#F8B500', '#EE5A52', '#0abde3'\r\n    ];\r\n    const index = name.charCodeAt(0) % colors.length;\r\n    return colors[index];\r\n  };\r\n\r\n  // Render participant tile\r\n  const renderParticipant = (user, idx) => (\r\n    <div\r\n      key={user.id || user.name || idx}\r\n      style={{\r\n        background: '#0F0F23',\r\n        borderRadius: 16,\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        minWidth: participantGrid.length === 1 ? 400 : 280,\r\n        minHeight: participantGrid.length === 1 ? 300 : 200,\r\n        width: '100%',\r\n        position: 'relative',\r\n        overflow: 'hidden',\r\n        border: user.isLocal ? '3px solid #00C9FF' : '2px solid #1e1e3f',\r\n        boxShadow: user.isLocal \r\n          ? '0 8px 32px rgba(0, 201, 255, 0.3)' \r\n          : '0 8px 24px rgba(0,0,0,0.4)',\r\n        transition: 'all 0.3s ease',\r\n      }}\r\n    >\r\n      {/* Show video if camera is on and stream is available */}\r\n      {user.cameraOn && user.stream && (\r\n        <video\r\n          ref={el => {\r\n            if (el && user.stream) {\r\n              el.srcObject = user.stream;\r\n              if (user.isLocal) localVideoRef.current = el;\r\n            }\r\n          }}\r\n          autoPlay\r\n          muted={user.isLocal}\r\n          playsInline\r\n          style={{\r\n            width: '100%',\r\n            height: '100%',\r\n            objectFit: 'cover',\r\n            borderRadius: 13,\r\n          }}\r\n        />\r\n      )}\r\n      \r\n      {/* If camera is off or no stream, show avatar */}\r\n      {(!user.cameraOn || !user.stream) && (\r\n        <div style={{\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          height: '100%',\r\n          color: '#fff'\r\n        }}>\r\n          {user.avatarUrl ? (\r\n            <img\r\n              src={user.avatarUrl}\r\n              alt={user.name}\r\n              style={{\r\n                width: participantGrid.length === 1 ? 120 : 80,\r\n                height: participantGrid.length === 1 ? 120 : 80,\r\n                borderRadius: '50%',\r\n                marginBottom: 12,\r\n                objectFit: 'cover',\r\n                border: '4px solid rgba(255,255,255,0.2)',\r\n              }}\r\n            />\r\n          ) : (\r\n            <div\r\n              style={{\r\n                width: participantGrid.length === 1 ? 120 : 80,\r\n                height: participantGrid.length === 1 ? 120 : 80,\r\n                borderRadius: '50%',\r\n                marginBottom: 12,\r\n                background: `linear-gradient(135deg, ${getAvatarColor(user.name)}, ${getAvatarColor(user.name)}CC)`,\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                justifyContent: 'center',\r\n                fontSize: participantGrid.length === 1 ? 36 : 28,\r\n                fontWeight: 700,\r\n                color: '#fff',\r\n                border: '4px solid rgba(255,255,255,0.3)',\r\n                boxShadow: '0 4px 16px rgba(0,0,0,0.3)',\r\n              }}\r\n            >\r\n              {getInitials(user.name || '')}\r\n            </div>\r\n          )}\r\n          <div style={{\r\n            fontSize: participantGrid.length === 1 ? 18 : 14,\r\n            fontWeight: 500,\r\n            color: 'rgba(255,255,255,0.9)',\r\n            textAlign: 'center'\r\n          }}>\r\n            Camera is off\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/* Status indicators */}\r\n      <div style={{\r\n        position: 'absolute',\r\n        top: 12,\r\n        right: 12,\r\n        display: 'flex',\r\n        gap: 8,\r\n      }}>\r\n        {user.isLocal && !micOn && (\r\n          <div style={{\r\n            width: 32,\r\n            height: 32,\r\n            borderRadius: '50%',\r\n            background: 'linear-gradient(135deg, #FF4757, #FF3838)',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            fontSize: 14,\r\n            border: '2px solid rgba(255,255,255,0.9)',\r\n            boxShadow: '0 2px 8px rgba(255, 71, 87, 0.4)',\r\n          }}>\r\n            <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"white\">\r\n              <path d=\"M16 8c0-2.21-1.79-4-4-4S8 5.79 8 8v4c0 2.21 1.79 4 4 4s4-1.79 4-4V8z\"/>\r\n              <path d=\"M19 10v2c0 3.87-3.13 7-7 7s-7-3.13-7-7v-2h2v2c0 2.76 2.24 5 5 5s5-2.24 5-5v-2h2z\"/>\r\n              <line x1=\"2\" y1=\"2\" x2=\"22\" y2=\"22\" stroke=\"white\" strokeWidth=\"2\"/>\r\n            </svg>\r\n          </div>\r\n        )}\r\n        {user.isLocal && micOn && (\r\n          <div style={{\r\n            width: 32,\r\n            height: 32,\r\n            borderRadius: '50%',\r\n            background: 'linear-gradient(135deg, #2ED573, #20BF6B)',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            fontSize: 14,\r\n            border: '2px solid rgba(255,255,255,0.9)',\r\n            boxShadow: '0 2px 8px rgba(46, 213, 115, 0.4)',\r\n          }}>\r\n            <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"white\">\r\n              <path d=\"M16 8c0-2.21-1.79-4-4-4S8 5.79 8 8v4c0 2.21 1.79 4 4 4s4-1.79 4-4V8z\"/>\r\n              <path d=\"M19 10v2c0 3.87-3.13 7-7 7s-7-3.13-7-7v-2h2v2c0 2.76 2.24 5 5 5s5-2.24 5-5v-2h2z\"/>\r\n            </svg>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Name overlay */}\r\n      <div\r\n        style={{\r\n          position: 'absolute',\r\n          bottom: 0,\r\n          left: 0,\r\n          right: 0,\r\n          background: user.cameraOn && user.stream \r\n            ? 'linear-gradient(transparent, rgba(0,0,0,0.8))' \r\n            : 'transparent',\r\n          color: '#fff',\r\n          padding: user.cameraOn && user.stream ? '24px 16px 12px' : '8px 16px',\r\n          fontSize: 16,\r\n          fontWeight: 600,\r\n          textAlign: 'center',\r\n          textShadow: '0 2px 4px rgba(0,0,0,0.5)',\r\n        }}\r\n      >\r\n        {user.name}\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (!localStream.current) return;\r\n    // For each peer, add tracks if not already present and renegotiate\r\n    Object.entries(peersRef.current).forEach(([peerId, peer]) => {\r\n      // Add tracks if not already present\r\n      const senders = peer.getSenders();\r\n      localStream.current.getTracks().forEach(track => {\r\n        if (!senders.find(sender => sender.track && sender.track.kind === track.kind)) {\r\n          peer.addTrack(track, localStream.current);\r\n        }\r\n      });\r\n      // Renegotiate (create and send new offer)\r\n      peer.createOffer().then(offer => {\r\n        peer.setLocalDescription(offer);\r\n        socketRef.current.emit('signal', { roomId, userId: userId.current, to: peerId, signal: { sdp: offer } });\r\n      });\r\n    });\r\n  }, [localStream.current]);\r\n\r\n  const controlButtonStyle = {\r\n    width: 56,\r\n    height: 56,\r\n    borderRadius: '50%',\r\n    border: 'none',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    fontSize: 18,\r\n    cursor: 'pointer',\r\n    transition: 'all 0.3s ease',\r\n    fontWeight: 600,\r\n    position: 'relative',\r\n    overflow: 'hidden',\r\n  };\r\n\r\n  return (\r\n    <div style={{ \r\n      minHeight: '100vh', \r\n      background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      fontFamily: '\"Inter\", \"Segoe UI\", Tahoma, Geneva, Verdana, sans-serif'\r\n    }}>\r\n      {/* Permission Modal */}\r\n      {showPermissionPrompt && (\r\n        <div style={{\r\n          position: 'fixed', \r\n          top: 0, \r\n          left: 0, \r\n          width: '100vw', \r\n          height: '100vh',\r\n          background: 'rgba(0,0,0,0.85)', \r\n          zIndex: 1000, \r\n          display: 'flex', \r\n          alignItems: 'center', \r\n          justifyContent: 'center',\r\n          backdropFilter: 'blur(10px)',\r\n        }}>\r\n          <div style={{\r\n            background: 'linear-gradient(135deg, #667eea, #764ba2)', \r\n            borderRadius: 20, \r\n            padding: 48, \r\n            boxShadow: '0 20px 60px rgba(0,0,0,0.4)', \r\n            maxWidth: 450, \r\n            textAlign: 'center',\r\n            border: '1px solid rgba(255,255,255,0.2)',\r\n          }}>\r\n            <div style={{ \r\n              fontSize: 64, \r\n              marginBottom: 24,\r\n              background: 'linear-gradient(135deg, #00C9FF, #92FE9D)',\r\n              borderRadius: '50%',\r\n              width: 100,\r\n              height: 100,\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              margin: '0 auto 24px',\r\n            }}>\r\n              <svg width=\"40\" height=\"40\" viewBox=\"0 0 24 24\" fill=\"white\">\r\n                <path d=\"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z\"/>\r\n              </svg>\r\n            </div>\r\n            <h2 style={{ margin: '0 0 16px 0', color: '#fff', fontSize: 28, fontWeight: 700 }}>\r\n              Join Meeting\r\n            </h2>\r\n            <p style={{ margin: '0 0 32px 0', color: 'rgba(255,255,255,0.9)', lineHeight: 1.6, fontSize: 16 }}>\r\n              We need access to your camera and microphone to connect you with others in this meeting.\r\n            </p>\r\n            <button \r\n              onClick={handleAllowPermissions} \r\n              style={{ \r\n                background: 'linear-gradient(135deg, #00C9FF, #92FE9D)',\r\n                color: 'white',\r\n                border: 'none',\r\n                borderRadius: 12,\r\n                fontSize: 18, \r\n                fontWeight: 700,\r\n                padding: '16px 40px',\r\n                cursor: 'pointer',\r\n                transition: 'all 0.3s ease',\r\n                boxShadow: '0 8px 24px rgba(0, 201, 255, 0.3)',\r\n                textTransform: 'uppercase',\r\n                letterSpacing: '1px',\r\n              }}\r\n              onMouseOver={(e) => {\r\n                e.target.style.transform = 'translateY(-2px)';\r\n                e.target.style.boxShadow = '0 12px 32px rgba(0, 201, 255, 0.4)';\r\n              }}\r\n              onMouseOut={(e) => {\r\n                e.target.style.transform = 'translateY(0)';\r\n                e.target.style.boxShadow = '0 8px 24px rgba(0, 201, 255, 0.3)';\r\n              }}\r\n            >\r\n              Join Now\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Header */}\r\n      <div style={{\r\n        background: 'rgba(15, 15, 35, 0.9)',\r\n        backdropFilter: 'blur(20px)',\r\n        padding: '20px 32px',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'space-between',\r\n        borderBottom: '1px solid rgba(255,255,255,0.1)'\r\n      }}>\r\n        <div style={{ display: 'flex', alignItems: 'center', gap: 16 }}>\r\n          <div style={{ \r\n            width: 48, \r\n            height: 48, \r\n            background: 'linear-gradient(135deg, #00C9FF, #92FE9D)', \r\n            borderRadius: 12,\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            fontSize: 24,\r\n            boxShadow: '0 4px 16px rgba(0, 201, 255, 0.3)',\r\n          }}>\r\n            <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"white\">\r\n              <path d=\"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z\"/>\r\n            </svg>\r\n          </div>\r\n          <div>\r\n            <h1 style={{ margin: 0, color: '#fff', fontSize: 24, fontWeight: 700 }}>\r\n              Meeting Room\r\n            </h1>\r\n            <p style={{ margin: 0, color: 'rgba(255,255,255,0.7)', fontSize: 14 }}>\r\n              Room ID: {roomId.length > 20 ? `${roomId.substring(0, 20)}...` : roomId}\r\n            </p>\r\n          </div>\r\n        </div>\r\n        <div style={{ \r\n          color: 'rgba(255,255,255,0.9)', \r\n          fontSize: 16,\r\n          background: 'rgba(255,255,255,0.1)',\r\n          padding: '8px 16px',\r\n          borderRadius: 20,\r\n          fontWeight: 600,\r\n        }}>\r\n          {participantGrid.length} participant{participantGrid.length !== 1 ? 's' : ''}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Main content area */}\r\n      <div style={{ flex: 1, display: 'flex', flexDirection: 'column', padding: 32 }}>\r\n        {/* Video grid */}\r\n        <div\r\n          style={{\r\n            display: 'grid',\r\n            gridTemplateColumns: getGridColumns(),\r\n            gap: 24,\r\n            alignItems: 'center',\r\n            justifyItems: 'center',\r\n            maxWidth: 1400,\r\n            margin: '0 auto',\r\n            width: '100%',\r\n            flex: 1,\r\n          }}\r\n        >\r\n          {participantGrid.length === 0 && (\r\n            <div style={{ \r\n              color: 'rgba(255,255,255,0.8)', \r\n              textAlign: 'center', \r\n              gridColumn: '1/-1',\r\n              fontSize: 20,\r\n              fontWeight: 500,\r\n            }}>\r\n              Waiting for participants to join...\r\n            </div>\r\n          )}\r\n          {participantGrid.map(renderParticipant)}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Controls bar */}\r\n      <div style={{\r\n        background: 'rgba(15, 15, 35, 0.95)',\r\n        backdropFilter: 'blur(20px)',\r\n        padding: '20px 32px',\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        gap: 20,\r\n        borderTop: '1px solid rgba(255,255,255,0.1)'\r\n      }}>\r\n        <button \r\n          onClick={toggleMic}\r\n          style={{\r\n            ...controlButtonStyle,\r\n            background: micOn \r\n              ? 'linear-gradient(135deg, #2ED573, #20BF6B)' \r\n              : 'linear-gradient(135deg, #FF4757, #FF3838)',\r\n            color: '#fff',\r\n            boxShadow: micOn \r\n              ? '0 6px 20px rgba(46, 213, 115, 0.4)' \r\n              : '0 6px 20px rgba(255, 71, 87, 0.4)',\r\n          }}\r\n          onMouseOver={(e) => {\r\n            e.target.style.transform = 'translateY(-3px)';\r\n            e.target.style.boxShadow = micOn \r\n              ? '0 8px 25px rgba(46, 213, 115, 0.6)' \r\n              : '0 8px 25px rgba(255, 71, 87, 0.6)';\r\n          }}\r\n          onMouseOut={(e) => {\r\n            e.target.style.transform = 'translateY(0)';\r\n            e.target.style.boxShadow = micOn \r\n              ? '0 6px 20px rgba(46, 213, 115, 0.4)' \r\n              : '0 6px 20px rgba(255, 71, 87, 0.4)';\r\n          }}\r\n          title={micOn ? 'Mute microphone' : 'Unmute microphone'}\r\n        >\r\n          <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n            {micOn ? (\r\n              <path d=\"M16 8c0-2.21-1.79-4-4-4S8 5.79 8 8v4c0 2.21 1.79 4 4 4s4-1.79 4-4V8zM19 10v2c0 3.87-3.13 7-7 7s-7-3.13-7-7v-2h2v2c0 2.76 2.24 5 5 5s5-2.24 5-5v-2h2z\"/>\r\n            ) : (\r\n              <>\r\n                <path d=\"M16 8c0-2.21-1.79-4-4-4S8 5.79 8 8v4c0 2.21 1.79 4 4 4s4-1.79 4-4V8z\"/>\r\n                <path d=\"M19 10v2c0 3.87-3.13 7-7 7s-7-3.13-7-7v-2h2v2c0 2.76 2.24 5 5 5s5-2.24 5-5v-2h2z\"/>\r\n                <line x1=\"2\" y1=\"2\" x2=\"22\" y2=\"22\" stroke=\"currentColor\" strokeWidth=\"2\"/>\r\n              </>\r\n            )}\r\n          </svg>\r\n        </button>\r\n\r\n        <button \r\n          onClick={toggleCam}\r\n          style={{\r\n            ...controlButtonStyle,\r\n            background: camOn \r\n              ? 'linear-gradient(135deg, #3742FA, #2F3A8F)' \r\n              : 'linear-gradient(135deg, #FF4757, #FF3838)',\r\n            color: '#fff',\r\n            boxShadow: camOn \r\n              ? '0 6px 20px rgba(55, 66, 250, 0.4)' \r\n              : '0 6px 20px rgba(255, 71, 87, 0.4)',\r\n          }}\r\n          onMouseOver={(e) => {\r\n            e.target.style.transform = 'translateY(-3px)';\r\n            e.target.style.boxShadow = camOn \r\n              ? '0 8px 25px rgba(55, 66, 250, 0.6)' \r\n              : '0 8px 25px rgba(255, 71, 87, 0.6)';\r\n          }}\r\n          onMouseOut={(e) => {\r\n            e.target.style.transform = 'translateY(0)';\r\n            e.target.style.boxShadow = camOn \r\n              ? '0 6px 20px rgba(55, 66, 250, 0.4)' \r\n              : '0 6px 20px rgba(255, 71, 87, 0.4)';\r\n          }}\r\n          title={camOn ? 'Turn off camera' : 'Turn on camera'}\r\n        >\r\n          <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n            {camOn ? (\r\n              <path d=\"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z\"/>\r\n            ) : (\r\n              <>\r\n                <path d=\"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z\"/>\r\n                <line x1=\"2\" y1=\"2\" x2=\"22\" y2=\"22\" stroke=\"currentColor\" strokeWidth=\"2\"/>\r\n              </>\r\n            )}\r\n          </svg>\r\n        </button>\r\n\r\n        <button \r\n          onClick={startScreenShare}\r\n          disabled={screenSharing}\r\n          style={{\r\n            ...controlButtonStyle,\r\n            background: screenSharing \r\n              ? 'linear-gradient(135deg, #00C9FF, #92FE9D)' \r\n              : 'linear-gradient(135deg, #45B7D1, #4A90E2)',\r\n            color: '#fff',\r\n            opacity: screenSharing ? 1 : 0.9,\r\n            boxShadow: '0 6px 20px rgba(69, 183, 209, 0.4)',\r\n          }}\r\n          onMouseOver={(e) => {\r\n            if (!screenSharing) {\r\n              e.target.style.transform = 'translateY(-3px)';\r\n              e.target.style.boxShadow = '0 8px 25px rgba(69, 183, 209, 0.6)';\r\n            }\r\n          }}\r\n          onMouseOut={(e) => {\r\n            if (!screenSharing) {\r\n              e.target.style.transform = 'translateY(0)';\r\n              e.target.style.boxShadow = '0 6px 20px rgba(69, 183, 209, 0.4)';\r\n            }\r\n          }}\r\n          title=\"Share screen\"\r\n        >\r\n          <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n            <path d=\"M20 18c1.1 0 1.99-.9 1.99-2L22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2h-4zM4 6h16v10H4V6z\"/>\r\n            {screenSharing && <circle cx=\"12\" cy=\"11\" r=\"3\" fill=\"currentColor\"/>}\r\n          </svg>\r\n        </button>\r\n\r\n        <button \r\n          onClick={takeScreenshot}\r\n          style={{\r\n            ...controlButtonStyle,\r\n            background: 'linear-gradient(135deg, #FECA57, #FF9F43)',\r\n            color: '#fff',\r\n            boxShadow: '0 6px 20px rgba(254, 202, 87, 0.4)',\r\n          }}\r\n          onMouseOver={(e) => {\r\n            e.target.style.transform = 'translateY(-3px)';\r\n            e.target.style.boxShadow = '0 8px 25px rgba(254, 202, 87, 0.6)';\r\n          }}\r\n          onMouseOut={(e) => {\r\n            e.target.style.transform = 'translateY(0)';\r\n            e.target.style.boxShadow = '0 6px 20px rgba(254, 202, 87, 0.4)';\r\n          }}\r\n          title=\"Take screenshot\"\r\n        >\r\n          <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n            <circle cx=\"12\" cy=\"12\" r=\"3.2\"/>\r\n            <path d=\"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z\"/>\r\n          </svg>\r\n        </button>\r\n\r\n        <div style={{ \r\n          width: 2, \r\n          height: 40, \r\n          background: 'linear-gradient(135deg, rgba(255,255,255,0.2), rgba(255,255,255,0.1))', \r\n          margin: '0 8px',\r\n          borderRadius: 1,\r\n        }} />\r\n\r\n        <button \r\n          onClick={leaveRoom}\r\n          style={{\r\n            ...controlButtonStyle,\r\n            background: 'linear-gradient(135deg, #FF4757, #C44569)',\r\n            color: '#fff',\r\n            boxShadow: '0 6px 20px rgba(255, 71, 87, 0.4)',\r\n          }}\r\n          onMouseOver={(e) => {\r\n            e.target.style.transform = 'translateY(-3px)';\r\n            e.target.style.boxShadow = '0 8px 25px rgba(255, 71, 87, 0.6)';\r\n          }}\r\n          onMouseOut={(e) => {\r\n            e.target.style.transform = 'translateY(0)';\r\n            e.target.style.boxShadow = '0 6px 20px rgba(255, 71, 87, 0.4)';\r\n          }}\r\n          title=\"Leave meeting\"\r\n        >\r\n          <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n            <path d=\"M12 9c-1.6 0-3.15.25-4.6.72v3.1c0 .39-.23.74-.56.9-.98.49-1.87 1.12-2.66 1.85-.18.18-.43.28-.7.28-.28 0-.53-.11-.71-.29L.29 13.08c-.18-.17-.29-.42-.29-.7 0-.28.11-.53.29-.71C3.34 8.78 7.46 7 12 7s8.66 1.78 11.71 4.67c.18.18.29.43.29.71 0 .28-.11.53-.29.7l-2.48 2.48c-.18.18-.43.29-.71.29-.27 0-.52-.1-.7-.28-.79-.73-1.68-1.36-2.66-1.85-.33-.16-.56-.51-.56-.9v-3.1C15.15 9.25 13.6 9 12 9z\"/>\r\n          </svg>\r\n        </button>\r\n      </div>\r\n\r\n      {/* Error notification */}\r\n      {error && (\r\n        <div style={{\r\n          position: 'fixed',\r\n          top: 100,\r\n          right: 32,\r\n          background: 'linear-gradient(135deg, #FF4757, #C44569)',\r\n          color: '#fff',\r\n          padding: '16px 20px',\r\n          borderRadius: 12,\r\n          fontSize: 16,\r\n          fontWeight: 600,\r\n          boxShadow: '0 8px 32px rgba(255, 71, 87, 0.4)',\r\n          zIndex: 1000,\r\n          border: '1px solid rgba(255,255,255,0.2)',\r\n          backdropFilter: 'blur(10px)',\r\n          animation: 'slideIn 0.3s ease',\r\n        }}>\r\n          <div style={{ display: 'flex', alignItems: 'center', gap: 12 }}>\r\n            <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n              <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"/>\r\n            </svg>\r\n            {error}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <style jsx>{`\r\n        @keyframes slideIn {\r\n          from { transform: translateX(100%); opacity: 0; }\r\n          to { transform: translateX(0); opacity: 1; }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Room;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}